{% extends "blog/base.html" %}
{% block title %}andywrote.me | blog{% endblock %}
{% block content %}
{%- if posts is not defined or 
       posts is none or 
       posts is not iterable or 
       posts|length == 0 -%}
<p>
  No posts.
</p>
{%- else -%}
  {%- for post in posts -%}
    <article>
      <h2>{{ post.title|safe }}</h2>
      <div class="post-body">
        {{ post.body|safe }}
      </div>
      <div class="post-footer">
        {{ post.created_at.strftime('%d %b %Y, %I:%M %p') }}
        {%- if post.tags|length > 0 -%}
          <br/>Tags: 
          {% for tag in post.tags -%}
            {{ tag.name }}
            {%- if not loop.last -%}, {% endif -%}
          {%- endfor -%}
        {%- endif -%}
      </div>
    </article>
  {%- endfor -%}
{%- endif -%}
{% endblock %}